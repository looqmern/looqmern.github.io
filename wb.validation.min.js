/*
 * jQuery Form Validation Plugin for WYSIWYG Web Builder 8
 * Copyright Pablo Software solutions 2012
 * http://www.wysiwygwebbuilder.com/
 */

(function(a){function m(d){var b=!0;a("input",d).each(function(){(settings=a.data(this,"settings"))&&!1==h(this,settings)&&(b=!1)});a("textarea",d).each(function(){(settings=a.data(this,"settings"))&&!1==h(this,settings)&&(b=!1)});a("select",d).each(function(){(settings=a.data(this,"settings"))&&!1==h(this,settings)&&(b=!1)});return b}function k(d,b){a(d).find(".bubbleContent").html(b)}function i(d,b,c){a(d).find(".bubbleContent").css("background-color",b);a(d).find(".bubbleArrow div").css("background-color",
b);a(d).find(".bubbleArrow .line1").css("background-color",c);a(d).find(".bubbleArrow .line2").css("background-color",c);a(d).find(".bubbleContent").css("border-color",c);a(d).find(".bubbleArrow div").css("border-color",c);a(d).find(".bubbleArrow .line3").css("border-color",c)}function j(d,b,c){d="#"+a(d).attr("id")+"_bubble";k(d,c);i(d,b.color_error,b.color_border);"slide"==b.effect?a(d).show("slide",{direction:"right"},500):"fade"==b.effect?a(d).fadeIn(500):a(d).show()}function l(d,b){var c="#"+
a(d).attr("id")+"_bubble";"slide"==b.effect?a(c).hide("slide",{direction:"right"},500):"fade"==b.effect?a(c).fadeOut(500,function(){k(c,b.title_text);i(c,b.color_hint,b.color_border)}):(a(c).hide(),k(c,b.title_text),i(c,b.color_hint,b.color_border))}function h(d,b){var c=null;switch(b.type){case "alphanumeric":c=/\w*/;break;case "number":c=/^[0-9-+]+$/;break;case "email":c=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;break;case "custom":c=b.param}pointer=a(d);if(!0==b.required||
0!=pointer.val().length){var e=!0;c&&(e=c.test(pointer.val()));e&&(""!=b.length_min&&pointer.val().length<parseInt(b.length_min)&&(e=!1),e&&""!=b.length_max&&pointer.val().length>parseInt(b.length_max)&&(e=!1));if(e)if("number"==b.type&&(""!=b.value_min&&(e=eval(pointer.val()+b.expr_min+b.value_min)),e&&""!=b.value_max&&(e=eval(pointer.val()+b.expr_max+b.value_max))),"checkbox"==b.type&&(e=a(d).is(":checked")),"radio"==b.type&&(c=a(d).attr("name"),a("input[name='"+c+"']:checked").val()||(e=!1)),"select"==
b.type&&(c=a(d).prop("selectedIndex"),-1==c&&(e=!1),0==c&&!0==b.disallowfirstchoice&&(e=!1)),"ajax"==b.type&&(e=!1,c="value="+a(d).val(),a.ajax({type:"POST",async:!1,url:b.param,data:c,success:function(a){a=="true"&&(e=true)}})),b.match_id)if(matchobj=a("#"+b.match_id),matchsettings=matchobj.data("settings"),""!=matchobj.val()&&matchobj.val()!=pointer.val())j(d,b,b.match_text),j(matchobj,matchsettings,matchsettings.match_text);else return""!=matchobj.val()&&l(matchobj,matchsettings),!0;else return!1==
e&&j(d,b,b.error_text),e;else return j(d,b,b.error_text),!1}else return!0}a.fn.validate=function(d){return this.each(function(){a.validate(this,d)})};a.validate=function(d,b){var c={title_text:"Please enter a value",error_text:"The entered value is invalid",color_text:"#00FF00",color_hint:"#00FF00",color_error:"#FF0000",color_border:"#808080",effect:"fade",match_text:"Values must be identical",match_id:null,length_min:"",length_max:"",value_min:"",value_max:"",expr_min:"",expr_max:"",type:"text",
required:!0,disallowfirstchoice:!1,nohint:!1,font_family:"Arial",font_size:"13px",font_weight:"normal",font_style:"normal",position:"topright",offsetx:0,offsety:0,bubble_class:"bubble",param:null};b&&(c=a.extend(c,b));c.title_text=a(d).attr("title");""==c.title_text&&(c.title_text="Enter a value");var e=a(d).attr("id"),g="#"+e+"_bubble",e='<div id="'+e+'_bubble" class="'+c.bubble_class+'">',e=e+'<div class="bubbleContent">'+c.title_text+"</div>";a("body").append(e+'<div class="bubbleArrow"><div class="line10"><\!-- --\></div><div class="line9"><\!-- --\></div><div class="line8"><\!-- --\></div><div class="line7"><\!-- --\></div><div class="line6"><\!-- --\></div><div class="line5"><\!-- --\></div><div class="line4"><\!-- --\></div><div class="line3"><\!-- --\></div><div class="line2"><\!-- --\></div><div class="line1"><\!-- --\></div></div></div>');
a(d).removeAttr("title");var e=a(d).offset().top,f=a(d).offset().left;"topright"==c.position&&(f+=a(d).width(),"bubble"==c.bubble_class&&(f-=27),e-=a(g).height(),e-=10);"topleft"==c.position&&(e-=a(g).height(),e-=10,"bubble"==c.bubble_class&&(f-=27));"centerright"==c.position&&(f+=a(d).width()+13);f+=c.offsetx;e+=c.offsety;a(g).css({top:e,left:f});i(g,c.color_hint,c.color_border);a(g).find(".bubbleContent").css("color",c.color_text);a(g).find(".bubbleContent").css("font-family",c.font_family);a(g).find(".bubbleContent").css("font-size",
c.font_size);a(g).find(".bubbleContent").css("font-weight",c.font_weight);a(g).find(".bubbleContent").css("font-style",c.font_style);a(g).hide();a.data(d,"settings",c);a(d).focus(function(){var b=c;if(!b.nohint){var e="#"+a(d).attr("id")+"_bubble";b.effect=="slide"?a(e).show("slide",{direction:"right"},500):b.effect=="fade"?a(e).fadeIn(500):a(e).show()}}).blur(function(){var a=c;h(d,a)&&l(d,a)})};a.validate.form=function(a){return m(a)}})(jQuery);